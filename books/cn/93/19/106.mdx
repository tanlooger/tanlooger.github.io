---
---
---
title: 19.1　Google的广告系统
---



很多人使用 Google 的产品和服务很多年，一直不清楚 Google 靠什么挣钱，因为 Google 的服务全部是免费的。答案是搜索广告和与网页内容相关的广告。（当然，Google 还有一些企业级产品，但是这些产品占不到营业额的百分之五。）很多人很怀疑 Google 靠搜索结果旁边这几个豆腐块大小的文字广告就能产生每年上百亿美元的销售额，因此认定 Google 一定是在财报上造了假。其实 Google 有没有在财报上造假很容易判断，如果 Google 没有足够的收入，如何能这么多年一直提供全球的免费服务（而像 Youtube 这样的视频服务是非常昂贵的），并且支付两万员工的工资。其实，Google 能够每年创造上百亿广告收入是因为它的广告系统比传统广告业来的有效得多。

广告一直是传媒业的主要收入。一份上百版的纽约时报售价不到一美元，比印刷成本不知要低多少，更不用说编辑和发行的费用了，这里面的“亏损”全部要靠广告收入填补。实际上广告的收入才是报纸营业额的大头，而它收区区一美元的售价，不过是为了确定它的读者是一个真正读报的人，而不是把免费报纸拿回去当包装纸或者邮件包裹的填充物。广播和电视业的收入更是依靠广告。雅虎的杨致远当初为雅虎选定的商业模式便是传媒的模式而不是电话公司的模式，因此，这就注定了互联网很多公司的收入要依靠广告。

最初的传媒广告业的运作过程大抵如下。一个媒体必须有一个广告部门，它其实是一个销售部门，它负责把报纸（或者网站）的版面和广播、电视的时间销售给做广告的客户。它的成本有三项。第一，运营的费用，比如报纸的成本、印刷费和发行渠道的成本；第二，批发或者零售的费用，包括给广告批发商让利或者支付广告销售人员的工资等；第三，订单处理，各种对于广告订单的管理和安排如何刊登或者播放广告。这三项成本除了第一项外，其实主要都是人工的费用。这种商业模式效率较低，对于大的媒体来讲，在劳动生产率不变的情况下，每增加一份收入，就要添加一些人工，因此成本下不去，利润率不可能很高，市场扩张也不会很快。对于小的媒体来讲成本更高，它们不可能养活三个部门专门负责上述三件事，因此它通常只能从广告批发商那里拿广告，而不能做直销。而对于做广告的人来讲，这个模式使得在（全国性）大媒体上做广告的门槛很高，因此小商家做不起读者观众很广的电视和报纸广告，只能在当地小报纸和电台上做一些广告，业务也很难跨地区发展。

在互联网发展初期，以雅虎为代表的门户网站在运营上基本上没有脱离传统广告业的运作方式。首先，它也有公司运营的基本费用，比如服务器和带宽的费用，相对于报纸纸张的成本和印刷的费用，其次，它的广告营销部门完全和传统广告业一样，要么是靠自己的员工拉广告，要么是委托广告批发商找广告。（具体采用哪种方式要看是支付自己人工资高还是支付给中介的佣金高。）第三，在订单处理和投放上基本还是手工方式。虽然雅虎采用数据库管理它的所有广告，但是，广告如何投放，在它那一类网页，网页的什么位置都是半手工的工作。因此，虽然雅虎公司和微软的MSN的在网络技术上很不错，它的运营效率可能比传统报纸媒体高一些，但是运作的方式实际上还是传统传媒的翻版。

Google 虽然被分到和雅虎同一类的互联网公司，但是它的广告模式和雅虎有本质区别。作为一个公司，Google 当然也有运营的基本开销，包括数据中心的开销和带宽的费用，这是谁也省不了的。但是，Google 在很大程度上省去了第二种和第三种广告的成本。这样，Google 不仅仅在关键词广告匹配的技术上领先于对手，更关键的是它的商业模式比包括雅虎和微软 MSN 传统广告业领先了整整一代。这样，它在商业上实际上是用“洋枪洋炮”对雅虎和 MSN 的“大刀长矛”。

要搞清楚 Google 广告系统的本质，先要从双击公司（Double Click）的商业模式着手。双击公司诞生于互联网飞速发展的九十年代末。各种中小的互联网站都希望从在线广告中分一杯羹，来支付它们的运营成本，但是这些小网站养不起太多的销售人员去拉广告。另一头出现了很多在线的商家需要做在线广告，但是这些小商家也没有精力一家家网站去谈广告事宜。因此双击公司就代理了两头，来为两边搭桥。一方面，它有很多销售人员去拉广告，另一方面它建立了一个自动向在线媒体（网站）投放广告的系统。也就是说它在订单处理和投放上实现了自动化。它的订单处理和自动投放是这样实现的：当销售人员拉来广告后，双击公司将它们按几种模板做成几种显示方式的图形和动漫，比如横幅图形广告、弹出式图形广告和嵌入式音频视频广告等有限的几种。每一个广告都以数据库的形式，存在它的服务器中，并且可以通过一个 JavaScript 从它的服务器上获得。对于要放广告的网站（媒体），它只要在双击公司开一个帐号，然后告诉双击公司它打算做哪种形式的广告，是横幅图形还是弹出式动漫等等，双击公司就会给它一些特殊的链接（根据信息指纹自动产生的，关于信息指纹请看“数学之美”），然后该网站只要把这些链接插入到自己网页中就行了，如下图。整个广告投放过程是自动的。



图19-1双击公司广告投放模型当该网站的读者浏览该网站的网页时，他的浏览器会向该网站发出获取网页的请求，该网站会返回包含双击公司链接的网页。在用户看到该网页内容前，浏览器会先解释网页，得到双击公司的链接并且把广告请求送给双击公司，双击公司会从数据库中“随机”提取广告，返回给用户广告。双击公司同时会根据请求中的信息指纹知道该请求是哪家网站送来的广告请求，以便统计该网站显示广告的次数。整个广告投放过程完全是自动的。

图19-2双击公司广告投放过程在双击公司的广告商业模式中，它的订单处理和投放完全是自动的，因此它比传统广告方式进了一步。但是，双击公司在广告投放过程中无法得知网站的内容和互联网用户的需求，因此它的广告投放完全是随机的，广告效果非常不好。虽然双击公司试图通过互联网用户的个人信息定位读者群，但是被一家保护用户隐私的机构告上了法庭，并且赔偿了上千万美元才得以和解，因此它便不再试图做任何针对特定用户的广告投放了。（这个官司影响深远，它使得所有社交网站无法利用用户信息做广告。）Google 公司的搜索广告在投放上和双击公司一样，完全是自动的。不仅如此，Google 公司的搜索广告根据搜索的关键词来决定广告的内容，广告的针对性很强，效果比双击公司的随机广告高了一个数量级。对于向网页投放广告，虽然没有搜索关键词，但是 Google 从网页的内容中提取关键词，依然能够保证广告内容和网页内容相关。 Google 比双击公司另一大改进之处在于打造了一个自动接纳广告的系统，从而基本上省去了广告销售这一成本。不管什么人想在 Google 上做广告，只要在 Google 的网站上填一张表，写几个自己感兴趣的关键词和广告的内容，再告诉 Google 每天愿意付的广告费即可。为了方便做广告的商家了解广告的效果，Google 有一套自动的模拟系统，告诉商家它的广告每天可以有多少人看，有多少人点击。（商家可以推算出每次浏览或者点击的广告费。）为了让商家对 Google 关键词广告的效果满意，Google 按广告点击量，而不是广告显示的次数收费。毫无疑问，广告商都喜欢这种收费方式，因此很多公司和个人就从其它广告媒体转到 Google 上来了。

当然，这个自动的系统要想工作无误，还必须解决好很多工程上的问题。下面的问题在打造自动的广告系统中是必须解决的。

首先，不能有需要人参与的广告设计，因此 Google 的搜索广告全部是文字的。虽然文字广告不如图形的生动，但是它使得网页干净，更受读者欢迎。

第二，对于同一个搜索所触发的不同的广告，要解决排名的问题。雅虎和百度基本上是按照付费高低排名，这样很多广告就和搜索的内容无关。雅虎的一位科学家 2006 年在斯坦福的一个学术会议上指出自己的这个问题。当人们在雅虎上搜索波音 747 时，ebay 的广告放在了第一位，因为 ebay 买了很多广告词（包括 747 ），同时付费又高；而 Google 没有同样的问题。这个问题如果不能自动解决，就不可避免要进行手工干预。

第三，要能识别恶意点击骗钱。

第四，要控制每个广告投放的节奏。比如某个公司愿意每天在 Google 上花一百美元同时对每个点击出价较高，可能每天早上一个小时它的预算就花完了，以后的二十几个小时，这家公司的广告就看不见了，对于一大早不上网的人就永远看不到这则广告。

第五，要有自动收费并且识别无效信用卡和银行账户的办法。

第六，也是最重要的，这个系统必须能自动修复。所有的数据必须保存很多份。当一台服务器宕机时，到达它的请求必须由其它同类服务器自动接过去。当整个一个数据中心出现故障后，到达这个数据中心的流量必须能在最短时间里自动转到附近的数据中心。

这一类的技术问题还很多，就不一一列举了。Google 这种做法大大降低了全国性甚者全球性广告的门槛，深受中小企业欢迎。因此，Google 的广告系统一推出，就有很多商家加盟。在此以前 Google 已经有了非常大的搜索流量，现在 Google 逐步建立了自己的广告商联盟，一台完美的印钞机就建成了。每天有中小企业和个人到 Google 的广告系统上去登记、填表并提供付款方式，当天他们的广告就在 Google 上可以找到了。另一头，Google 每天有很多用户来搜索商业信息，他们总会有百分之几的时间是点击广告的，这样 Google 就收到了钱。这个系统完全是自动运行的，即使所有 Google 员工都回家睡觉了，只要不死机，Google 就不断地在收钱。可以毫不夸张地讲，今天 Google 百分之九十九的员工都离开公司去度一个月的假期，Google 这个月的营业额不会有太多的影响。

这个印钞机另一个奇妙的地方在于，它可以通过机器学习（Machine Learning）不断完善自己，“印出”越来越多的钞票。当广告商和搜索用户数目超过一个阈值后，它们点击搜索结果和广告的统计信息就可以用来改进搜索和广告的匹配，使得广告和搜索的内容更加相关，点击率就会更高。这样广告的效果也会更好，广告商就越来越喜欢来做广告。

在这台印钞机里，运营的成本就是数据中心的费用和带宽的费用，而间接的成本则是打造和改进这个印钞机的研发费用。在这台印钞机中，自动化程度必须到达一个阈值，它才能自动运转起来。而当它的自动化越高，成本就越低。相比之下，微软长期没有自己的广告源，自然就打造不出这个印钞机。而雅虎，长期对工程重视不足，它的广告系统自动化程度太低，没有达到成为印钞机的阈值，因此利润就上不去。

Google 的广告模式，将传统广告业中三大成本削减其二，大大降低了整个运营成本，同时使得中小企业和个人在全球性媒体上做广告成为了可能。Google 靠着这种革命性的商业模式，拔得了互联网广告业的头筹。