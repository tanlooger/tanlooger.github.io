---
---
---
title: 律历下
---

开皇二十年，袁充奏日长影短，高祖因以历事付皇太子，遣更研详着日长之候。太子征天下历算之士，咸集于东宫。刘焯以太子新立，复增修其书，名曰《皇极历》，驳正胄玄之短。太子颇嘉之，未获考验。焯为太学博士，负其精博，志解胄玄之印，官不满意，又称疾罢归。至仁寿四年，焯言胄玄之误于皇太子：

其一曰，张胄玄所上见行历，日月交食，星度见留，虽未尽善，得其大较，官至五品，诚无所愧。但因人成事，非其实录，就而讨论，违舛甚众。

其二曰，胄玄弦望晦朔，违古且疏，气节闰候，乖天爽命。时不从子半，晨前别为后日。日躔莫悟缓急，月逡妄为两种，月度之转，辄遗盈缩，交会之际，意造气差。七曜之行，不循其道，月星之度，行无出入，应黄反赤，当近更远，亏食乖准，阴阳无法。星端不协，珠璧不同，盈缩失伦，行度愆序。去极晷漏，应有而无，食分先后，弥为烦碎。测今不审，考古莫通，立术之疏，不可纪极。今随事纠驳，凡五百三十六条。

其三曰，胄玄以开皇五年，与李文琮于张宾历行之后，本州贡举，即赍所造历拟以上应。其历在乡阳流布，散写甚多，今所见行，与焯前历不异。玄前拟献，年将六十，非是忽迫仓卒始为，何故至京未几，即变同焯历，与旧悬殊？焯作于前，玄献于后，舍己从人，异同暗会。且孝孙因焯，胄玄后附孝孙，历术之文，又皆是孝孙所作，则元本偷窃，事甚分明。恐胄玄推讳，故依前历为驳，凡七十五条，并前历本俱上。

其四曰，玄为史官，自奏亏食，前后所上，多与历违，今算其乖舛有一十三事。又前与太史令刘晖等校其疏密五十四事，云五十三条新。计后为历应密于旧，见用算推，更疏于本。今纠发并前，凡四十四条。

其五曰，胄玄于历，未为精通。然孝孙初造，皆有意，徵天推步，事必出生，不是空文，徒为臆断。

其六曰，焯以开皇三年，奉敕修造，顾循记注，自许精微，秦汉以来，无所与让。寻圣人之迹，悟曩哲之心，测七曜之行，得三光之度，正诸气朔，成一历象，会通今古，符允经传，稽于庶类，信而有徵。胄玄所违，焯法皆合，胄玄所阙，今则尽有，隐括始终，谓为总备。

仍上启曰：“自木铎寝声，绪言成烬，群生荡析，诸夏沸腾，曲技云浮，畴官雨绝，历纪废坏，千百年矣。焯以庸鄙，谬荷甄擢，专精艺业，耽玩数象，自力群儒之下，冀睹圣人之意。开皇之初，奉敕修撰，性不谐物，功不克终，犹被胄玄窃为己法，未能尽妙，协时多爽，尸官乱日，实玷皇猷。请征胄玄答，验其长短。”

焯又造历家同异，名曰《稽极》。大业元年，着作郎王邵、诸葛颍二人，因入侍宴，言刘焯善历，推步精审，证引阳明。帝曰：“知之久矣。”仍下其书与胄玄参校。胄玄驳难云：“焯历有岁率、月率，而立定朔，月有三大、三小。案岁率、月率者，平朔之章岁、章月也。以平朔之率而求定朔，值三小者，犹以减三五为十四；值三大者，增三五为十六也。校其理实，并非十五之正。故张衡及何承天创有此意，为难者执数以校其率，率皆自败，故不克成。今焯为定朔，则须除其平率，然后为可。”互相驳难，是非不决，焯又罢归。

四年，驾幸汾阳宫，太史奏曰：“日食无效。”帝召焯，欲行其历。袁允方幸于帝，左右胄玄，共排焯历，又会焯死，历竟不行。术士咸称其妙，故录其术云。甲子元，距大隋仁寿四年甲子积一百万八千八百四十算。

岁率，六百七十六。

月率，八千三百六十一。

朔日法，千二百四十二。

朔实，三万六千六百七十七。

旬周，六十。

朔辰，百三半。

日干元，五十二。

日限，十一。

盈泛，十六。

亏总，十七。

推经朔术：

置入元距所求年，月率乘之，如岁率而一，为积月，不满为闰衰。朔实乘积月，满朔日法得一，为积日，不满为朔余。旬周去积日，不尽为日，即所求年天正经朔日及余。

求上下弦、望：加经朔日七、余四百七十五小，即上弦经日及余。又加得望、下弦及后月朔。就径求望者，加日十四、余九百五十半；下弦加日二十二、余百八十三大；后月朔加日二十九，余六百五十九。每月加闰衰二十大，即各其月闰衰也。

凡月建子为天正，建丑为地正，建寅为人正。即以人正为正月，统求所起，本于天正。若建岁历从正月始，气、候、月、星，所值节度，虽有前却，并亦随之。其前地正为十二月，天正为十一月，并诸气度皆属往年。其日之初，亦从星起，晨前多少，俱归昨日。若气在夜半之后，量影以后日为正。诸因加者，各以其余减法，残者为全余。若所因之余满全余以上，皆增全一而加之，减其全余；即因余少于全余者，不增全加，皆得所求。分度亦尔。凡日不全为余，积以成余者曰秒；度不全为分，积以成分者曰篾；其有不成秒曰麽，不成篾曰幺。其分、余、秒、篾，皆一为小，二为半，三为大，四为全，加满全者从一。其三分者，一为少，二为太。若加者，秒篾成法，从分余。分余满法从日度一，日度有所满，则从去之。而日命以日辰者，满旬周则亦除；命有连分、余、秒、篾者，亦随全而从去。其日度虽满，而分秒不满者，未可从去，仍依本数。若减者，秒篾不足，减分余一，加法而减之；分余不足减者，加所从去或前日度乃减之。即其名有总，而日度全及分余共者，须相加除，当皆连全及分余共加除之。若须相乘，有分余者，母必通全内子，乘讫报除。或分余相并，母不同者，子乘而并之。母相乘为法，其并，满法从一为全，此即齐同之也。既除为分余而有不成，若例有秒篾，法乘而又法除，得秒篾数。已为秒篾及正有分余，而所不成不复须者，须过半从一，无半弃之。若分余其母不等，须变相通，以彼所法之母乘此分余，而此母除之，得彼所须之子。所有秒篾者，亦法乘，不满此母，又除而得其数。麽幺亦然。其所除去而有不尽全，则谓之不尽，亦曰不如。其不成全，全乃为不满分、余、秒、篾，更曰不成。凡以数相减，而有小及半、太须相加减，同于分余法者，皆以其母三四除其气度日法，以半及太、大本率二三乘之，少、小即须因所除之数随其分余而加减焉。秋分后春分前为盈泛，春分后秋分前为亏总，须取其数。泛总为名，指用其时，春分为主，亏日分后，盈日分前。凡所不见，皆放于此。

气日法，四万六千六百四十四。

岁数，千七百三万六千四百六十六半。

度准，三百三十八。

约率，九。

气辰，三千八百八十七。

余通，八百九十七。

秒法，四十八。

麽法，五。

推气术：

半闰衰乘朔实，又度准乘朔余，加之，如约率而一，所得满气日法为去经朔日，不满为气余。以去经朔日，即天正月冬至恆日定余，乃加夜数之半者，减日一，满者因前，皆为定日。命日甲子算外，即定冬至日。其余如半气辰千九百四十三半以下者，为气加子半后也；过以上，先加此数，乃气辰而一，命以辰算外，即气所在辰。十二辰外，为子初以后余也。又十二乘辰余：

四为小太，亦曰少；五为半步；六为半；

七为半太；八为大少，亦曰太；九为太；

十为大太；十一为穷辰少。

其又不成法者，半以上为进，以下为退。退以配前为强，进以配后为弱。即初不成一而有退者，谓之沾辰；初成十一而有进者，谓之穷辰。未旦其名有重者，则于间可以加之，命辰通用其余，辨日分辰而判诸日。因别亦皆准此。因冬至有减日者，还加之。每加日十五、余万一百九十二、秒三十七，即各次气恆日及余。诸月齐其闰衰，如求冬至法，亦即其月中气恆日去经朔数。其求后月节气恆日，如次之求前节者减之。

推每日迟速数术：

见求所在气陟降率，并后气率半之，以日限乘而泛总除，得气末率。又日限乘二率相减之残，泛总除，为总差。其总差亦日限乘而泛总除，为别差。率前少者，以总差减末率，为初率，乃别差加之；前多者，即以总差加末率，皆为气初日陟降数。以别差前多者日减，前少者日加初数，得每日数。所历推定气日随算其数，陟加、降减其迟速，为各迟速数。其后气无同率及有数同者，皆因前末，以末数为初率，加总差为末率，及差渐加初率，为每日数，通计其秒，调而御之。

求月朔弦望应平会日所入迟速：各置其经余为辰，以入气辰减之，乃日限乘日，日内辰为入限，以乘其气前多之末率，前少之初率，日限而一，为总率。其前多者，入限减泛总之残，乘总差，泛总而一，为入差，并于总差，入限乘，倍日限除，加以总率；前少者，入限自乘再乘别差，日限自乘，倍而除，亦加总率，皆为总数。乃以陟加、降减其气迟速数为定，即速加、迟减其经余，各其月平会日所入迟速定日及余。

求每日所入先后：各置其气躔衰与衰总，皆以余通乘之，所乃躔衰如陟降率；衰总如迟速数，亦如求迟速法，即得每所入先后及定数。

求定气：其每日所入先后数即为气余，其所历日皆以先加之，以后减之，随算其日，通准其余，满一恆气，即为二至后一气之数。以加二气，如法用别其日而命之。又算其次，每相加命，各得其定气日及余也。亦以其先后已通者，先减后加其恆气，即次气定日及余。亦因别其日，命以甲子，各得所求。

求土王：距四立各四气外所入先后加减，满二十二日、余八千一百五十四、秒十、麽二。除所满日外，即土始王日。

求侯日：定气即初候日也。三除恆气，各为平候日。余亦以所入先后数为气余，所历之日皆以先加、后减，随计其日，通准其余，每满其平，以加气日而命之，即得次候日。亦算其次，每相加命，又得末候及次气日。

倍夜半之漏，得夜刻也。以减百刻，不尽为昼刻。每减昼刻五，以加夜刻，即其昼为日见、夜为不见刻数。刻分以百为母。

求日出入辰刻：十二除百刻，得辰刻数，为法。半不见刻以半辰加之，为日出实，又加日出见刻，为日入实。如法而一，命子算外，即所在辰，不满法，为刻及分。

求辰前余数：气、朔日法乘夜半刻，百而一，即其余也。

求每日刻差：每气准为十五日，全刻二百二十五为法。其二至各前后于二分，而数因相加减，间皆六气；各尽于四立，为三气。至与前日为一，乃每日增太；又各二气，每日增少；其末之气，每日增少之小，而末六日，不加而裁焉。二望至前后一气之末日，终于十少；二气初日，稍增为十二半，终于二十太，三气初日，二十一，终于三十少；四立初日，三十一，终于三十五太；五气亦少增，初日三十六太，终四十一少；末气初日，四十一少，终于四十二。每气前后累算其数，又百八十乘为实，各泛总乘法而除，得其刻差。随而加减夜刻而半之，各得入气夜定刻。其分后十五日外，累算尽日，乃副置之，百八十乘，亏总除，为其所因数。以减上位，不尽为所加也。不全日者，随辰率之。

求晨去中星：加周度一，各昏去中星减之，不尽为晨去度。

求每日度差：准日因增加裁，累算所得，百四十三之，四百而一，亦百八十乘，泛总除，为度差数。满转法为度，随日加减，各得所求。分后气间，亦求准外与前求刻，至前加减，皆因日数逆算求之。亦可因至向背其刻，冬减夏加，而度冬加夏减。若至前，以入气减气间，不尽者，因后气而反之，以不尽日累算乘除所定，从后气而逆以加减，皆得其数。此但略校其总，若精存于《稽极》云。

转终日，二十七；余，千二百五十五。

终法，二千二百六十三。

终实，六万二千三百五十六。

终全余，千八。

转法，五十二。

篾法，八百九十七。

闰限，六百七十六。

推入转术：终实去积日，不尽，以终法乘而又去，不如终实者，满终法得一日，不满为余，即其年天正经朔夜半入转日及余。

求次日：加一日，每日满转终则去之，其二十八日者加全余为夜半入初日余。

求弦望：皆因朔加其经日，各得夜半所入日余。

求次月：加大月二日，小月一日，皆及全余，亦其夜半所入。

求经辰所入朔弦望：经余变从转，不成为秒，加其夜半所入，皆其辰入日及余。因朔辰所入，每加日七、余八百六十五、秒千一百六十大，秒满日法成余，亦得上弦。望、下弦、次朔经辰所入径求者，加望日十四、余千七百三十一、秒千七十九半，下弦日二十二、余三百三十四、秒九百九十八小，次朔日一、余二千二百八、秒九百一十七。亦朔望各增日一，减其全余，望五百三十一、秒百六十二半，朔五十四、秒三百二十五。

求月平应会日所入：以月朔弦望会日所入迟速定数，亦变从转余，乃速加、迟减其经辰所入余，即各平会所入日余。

推朔弦望定日术：

各以月平会所入之日加减限，限并后限而半之，为通率；又二限相减，为限衰。前多者，以入余减终法，残乘限衰，终法而一，并于限衰而半之；前少者，半入余乘限衰，亦终法而一，减限衰。皆加通率，入余乘之，日法而一，所得为平会加减限数。其限数又别从转余为变余，朓减、朒加本入余。限前多者，朓以减与未减，朒以加与未加，皆减终法，并而半之，以乘限衰；前少者，亦朓朒各并二入余，半之，以乘限衰；皆终法而一，加于通率，变余乘之，日法而一。所得以朓减、朒加限数，加减朓朒积而定朓朒。乃朓减、朒加其平会日所入余，满若不足进退之，即朔弦望定日及余。不满晨前数者，借减日算，命甲子算外，各其日也。不减与减，朔日立算与后月同。若俱无立算者，月大，其定朔算后加所借减算。闰衰限满闰限，定朔无中气者为闰，满之前后，在分前若近春分后、秋分前，而或月有二中者，皆量置其朔，不必依定。其后无同限者，亦因前多以通率数为半衰而减之，二前少，即为通率。其加减变余进退日者，分为一日，随余初末如法求之，所得并以加减限数。凡分余秒篾，事非因旧，文不着母者，皆十为法。若法当求数，用相加减，而更不过通远，率少数微者，则不须算。其入七日余二千一十一，十四日余千七百五十九，二十一日余千五百七，二十八日始终余以下为初数，各减终法以上为末数。其初末数皆加减相返，其要各为九分，初则七日八分，十四日七分，二十一日六分，二十八日五分；末则七日一分，十四日二分，二十一日三分，二十八日四分。虽初稍弱而末微强，余差止一，理势兼举，皆今有转差，各随其数。若恆算所求，七日与二十一日得初衰数，而末初加隐而不显，且数与平行正等。亦初末有数而恆算所无，其十四日、二十八日既初末数存，而虚衰亦显，其数当去，恆法不见。

求朔弦望之辰所加：

定余半朔辰五十一大以下，为加子过；以上，加此数，乃朔辰而一，亦命以子，十二算外，又加子初。以后其求入辰强弱，如气。

求入辰法度：

度法，四万六千六百四十四。

周数，千七百三万七千七十六。

周分，万二千一十六。

转，十三。

篾，三百五十五。

周差，六百九半。

在日谓之余通，在度谓之篾法，亦气为日法、为度法，随事名异，其数本同。女末接虚，谓之周分。变周从转，谓之转。晨昏所距日在黄道中，准度赤道计之。

斗二十六牛八女十二虚十危十七室十六壁九

北方玄武七宿，九十八度。

奎十六娄十二胃十四昴十一毕十六觜二参九

西方白虎七宿，八十度。

井三十三鬼四柳十五星七张十八翼十八轸十七

南方硃雀七宿，百一十二度。

角十二亢九氐十五房五心五尾十八箕十一

东方苍龙七宿，七十五度。

前皆赤道度，其数常定，纮带天中，仪极攸准。

推黄道术：

准冬至所在为赤道度，后于赤道四度为限。初数九十七，每限增一，以终百七。其三度少弱，平。乃初限百九，亦每限增一，终百一十九，春分所在。因百一十九每限损一，又终百九。亦三度少弱，平。乃初限百七，每限损一，终九十七，夏至所在。又加冬至后法，得秋分、冬至所在数。各以数乘其限度，百八而一，累而总之，即皆黄道度也。度有分者，前后辈之，宿有前却，度亦依体，数逐差迁，道不常定，准令为度，见步天行，岁久差多，随术而变。

斗二十四牛七女十一半虚十危十七室十七壁十

北方九十六度半。

奎十七娄十三胃十五昴十一毕十五半觜二参九

西方八十二度半。

井三十鬼四柳十四半星七张十七翼十九轸十八

南方一百九度半。

角十三亢十氐十六房五心五尾十七箕十半

东方七十六度半。

前皆黄道度，步日所行。月与五星出入，循此。

推月道所行度术：

准交定前后所在度半之，亦于赤道四度为限，初十一，每限损一，以终于一。其三度强，平。乃初限数一，每限增一，亦终十一，为交所在。即因十一，每限损一，以终于一。亦三度强，平。又初限数一，每限增一，终于十一，复至交半，返前表里。仍因十一增损，如道得后交及交半数。各积其数，百八十而一，即道所行每与黄道差数。其月在表，半后交前，损减增加；交后半前，损加增减于黄道。其月在里，各返之，即得月道所行度。其限未尽四度，以所直行数乖入度，四而一。若月在黄道度，增损于黄道之表里，不正当于其极，可每日准去黄道度，增损于黄道，而计去赤道之远近，准上黄道之率以求之，遁伏相消，朓朒互补，则可知也。积交差多，随交为正。其五星先候，在月表里出入之渐，又格以黄仪，准求其限。若不可推明者，依黄道命度。

推日度术：

置入元距所求年岁数乘之，为积实，周数去之，不尽者，满度法得积度，不满为分。以冬至余减分；命积度以黄道起于虚一宿次除之，不满宿算外，即所求年天正冬至夜半日所在度及分。

求年天正定朔度：

以定朔日至冬至每日所入先后余为分，日为度，加分以减冬至度，即天正定朔夜半日在所度分。亦去朔日乘衰总已通者，以至前定气除之，又如上求差加以并去朔日乃减度，亦即天正定朔日所在度。皆日为度，余为分。其所入先后及衰总用增损者，皆分前增、分后损其平日之度。

求次日：

每日所入先后分增损度，以加定朔度，得夜半。

求弦望：

去定朔每日所入分，累而增损去定朔日，乃加定朔度，亦得其夜半。

求次月：

历算大月三十日，小月二十九日，每日所入先后分增损其月，以加前朔度，即各夜半所在至虚去周分。

求朔弦望辰所加：

各以度准乘定余，约率而一，为平分。又定余乘其日所入先后分，日法而一，乃增损其平分，以加其夜半，即各辰所加。其分皆篾法约之，为转分，不成为篾。凡朔辰所加者，皆为合朔日月同度。

推月而与日同度术：

各以朔平会加减限数加减朓朒，为平会朓朒。以加减定朔，度准乘，约率除，以加减定朔辰所加日度，即平会辰日所在。又平会余乘度准，约率除，减其辰所在，为平会夜半日所在。乃以四百六十四半乘平会余，亦以周差乘，朔实除，从之，以减夜半日所在，即月平会夜半所在。三十七半乘平会余，增其所减，以加减半，得月平会辰平行度。五百二乘朓棵，亦以周差乘，朔实除而从之，朓减、朒加其平行，即月定朔辰所在度，而与日同。若即以平会朓朒所得分加减平会辰所在，亦得同度。

求月弦望定辰度：

各置其弦望辰所加日度及分，加上弦度九十一，转分十六，篾三百一十三；望度百八十二，转分三十二，篾六百二十六；下弦度二百七十三，转分四十九，篾四十二，皆至虚，去转周求之。

定朔夜半入转：

经朔夜半所入准于定朔日有增损者，亦以一日加减之，否者因经朔为定。

其因定求朔次日、弦望、次月夜半者，如于经月法为之。

推月转日定分术：

以夜半入转余乘逡差，终法而一，为见差。以息加、消减其日逡分，为月每日所行逡定分。

求次日：

各以逡定分加转分，满转法从度，皆其夜半。因日转若各加定日，皆得朔、弦望夜半月所在定度。其就辰加以求夜半，各以半逡差减逡分，消者，定余乘差，终法除，并差而半之；息者，半定余以乘差，终法而一。皆加所减，乃以定余乘之，日法而一，各减辰所加度，亦得其夜半度。因夜半亦如此求逡分，以加之，亦得辰所加度。诸转可初以逡分及差为篾，而求其次，皆讫，乃除为转分。因经朔夜半求定辰度者，以定辰去经朔夜半减，而求其增损数，乃以数求逡定分，加减其夜半，亦各定辰度。

求月晨昏度：

如前气与所求每日夜漏之半，以逡定分乘之，百而一，为晨分；减逡定分，为昏分。除为转度，望前以昏，后以晨，加夜半定度，得所在。

求晨昏中星：

各以度数加夜半定度，即中星度。其朔、弦、望，以百刻乘定余，满日法得一刻，即各定辰近入刻数。皆减其夜半漏，不尽为晨，初刻不满者属昨日。

复月，五千四百五十八。

交月，二千七百二十九。

交率，四百六十五。

交数，五千九百二十三。

交法，七百三十五万六千三百六十六。

会法，五十七万七千五百三十。

交复日，二十七。余，二百六十三。秒，三千四百三十五。

交日，十三。余，七百五十二。秒，四千六百七十九。

交限，日，十二。余，五百五十五。秒，四百七十三半。

望差，日，一。余，百九十七。秒，四千二百五半。

朔差，日，二。余，三百九十五。秒，二千四百八十八。

会限，百五十八。余，六百七十六。秒，五十半。

会日，百七十三。余，三百八十四。秒，二百八十三。

推月行入交表里术：

置入元积月，复月去之，不尽。交率乘而复去，不如复月者，满交月去之，为在里数；不满为在表数，即所求年天正经入交表里数。

求次月：

以交率加之，满交月去之，前表者在里，前里者在表。

推月入交日术：

以朔实乘表里数，为交实；满交法为日，不满者交数而一，为余，不成为秒，命日算外，即其经朔月平入交日余。

求望：以望差加之，满交日去之，则月在表里与朔同；不满者与朔返。其月食者，先交与当月朔，后交与月朔表里同。

求次月：朔差加月朔所入，满交日去之，表里与前月返；不满者，与前月同。

求经朔望入交常日：

以月入气朔望平会日迟速定数，速加、迟减其平入交日余，为经交常日及余。

求定朔望入交定日：

以交率乘定朓朒，交数而一，所得以朓减、朒加常日余，即定朔望所入定日及余。其去交如望差以下、交限以上者月食，月在里者日食。

推日入会日术：

会法除交实为日，不满者，如交率为余，不成为秒，命日算外，即经朔日入平会日及余。

求望：加望日及余，次月加经朔，其表里皆准入交。

求入会常日：以交数乘月入气朔望所平会日迟速定数，交率而一，以速加、迟减其入平会日余，即所入常日余。亦以定朓朒，而朓减、朒加其常日余，即日定朔望所入会日及余。皆满会日去之，其朔望去会，如望以下、会限以上者，亦月食；月日道表在日道里则日食。

求月定朔望入交定日夜半：

交率乘定余，交数而一，以减定朔望所入定日余，即其夜半所定入。

求次日：

以每日迟速数，分前增、分后损定朔所入定日余，以加其日，各得所入定日及余。

求次月：

加定朔，大月二日，小月一日，皆余九百七十八，秒二千四百八十八。各以一月迟速数，分前增、分后损其所加，为定。其入七日，余九百九十七，秒二千三百三十九半以下者，进；其入此以上，尽全余二百四十四，秒三千五百八十三半者，退。其入十四日，如交余及秒以下者，退；其入此以上，尽全余四百八十九，秒千二百四十四者，进而复也。其要为五分，初则七日四分，十四日三分；末则七日后一分，十四日后二分，虽初强末弱，衰率有检。

求月入交去日道：皆同其数，以交余为秒积，以后衰并去交衰，半之，为通数。进则秒积减衰法，以乘衰，交法除，而并衰以半之；退者，半秒积以乘衰，交法而一；皆加通数，秒积乘，交法除，所得以进退衰积，十而一为度，不满者求其强弱，则月去日道数。月朔望入交，如限以上，减交日，残为去后交数；如望差以下即为去先交数。有全日同为余，各朔辰而一，得去交辰。其月在日道里，日应食而有不食者；月日道表在日不应食而亦有食者。

推应食不食术：

朔先后在夏至十日内，去交十二辰少；二十日内，十二辰半；一月内，十二辰大；闰四月、六月，十三辰以上，加南方三辰。若朔在夏至二十日内，去交十三辰，以加辰申半以南四辰；闰四月、六月，亦加四辰；谷雨后、处暑前，加三辰；清明后、白露前，加巳半以西、未半以东二辰；春分后秋分前，加午一辰。皆去交十三辰半以上者，并或不食。

推不应食而食术：

朔在夏至前后一月内，去交二辰；四十六日内，一辰半，以加二辰；又一月内，亦一辰半，加三辰及加四辰，与四十六日内加三辰；谷雨后、处暑前，加巳少后、未太前；清明后、白露前，加二辰；春分后、秋分前，加一辰。皆去交半辰以下者，并得食。

推月食多少术：

望在分后，以去夏至气数三之；其分前，又以去分气数倍而加分后者；皆又以十加去交辰倍而并之，减其去交余，为不食定余。乃以减望差，残者九十六而一，不满者求其强弱，亦如气辰法，以十五为限，命之，即各月食多少。

推日食多少术：

月在内者，朔在夏至前后二气，加南二辰，增去交余一辰太；加三辰，增一辰少，加四辰，增太。三气内，加二辰，增一辰；加三辰，增太；加四辰，增少。四气内，加二辰，增太；加三辰及五气内，加二辰，增少。自外所加辰，立夏后、立秋前，依本其气内加四辰，五气内加三辰，六气内加二辰。六气内加二辰者，亦依平。自外所加之北诸辰，各依其去立夏、立秋、清明、白露数，随其依平辰，辰北每辰以其数三分减去交余；雨水后、霜降前，又半其去分日数，以加二分去二立之日，乃减去交余；其在冬至前后，更以去霜降、雨水日数三除之，以加霜降雨水当气所得之数；而减去交余，皆为定不食余。以减望差，乃如月食法。月在外者，其去交辰数，若日气所系之限，止一而无等次者，加所去辰一，即为食数。若限有等次，加别系同者，随所去交辰数而返其衰，以少为多，以多为少，亦加其一，以为食数。皆以十五为限，乃以命之，即各日之所食多少。

凡日食，月行黄道，体所映蔽，大较正交如累璧，渐减则有差，在内食分多，在外无损。虽外全而月下，内损而更高，交浅则闲遥；交深则相搏而不淹。因遥而蔽多，所观之地又偏，所食之时亦别。月居外道，此不见亏，月外之人反以为食。交分正等，同在南方，冬损则多，夏亏乃少。假均冬夏，早晚又殊。处南辰体则高，居东西傍而下视有邪正。理不可一，由准率若实而违。古史所详，事有纷互，今故推其梗概，求者知其指归。苟地非于阳城，皆随所而渐异。然月食以月行虚道，暗气所冲，日有暗气，天有虚道，正黄道常与日对，如镜居下，魄耀见阴，名曰暗虚，奄月则食，故称“当月月食，当星星亡。”虽夜半之辰，子午相对，正隔于地，虚道即亏。既月兆日光，当午更耀，时亦隔地，无废禀明。谅以天光神妙，应感玄通，正当夜半，何害亏禀。月由虚道，表里俱食。日之与月，体同势等，校其食分，月尽为多，容或形差，微增亏数，疏而不漏，纲要克举。

推日食所在辰术：

置定余，倍日限，克减之，月在里，三乘朔辰为法，除之，所得以艮巽坤乾为次。命艮算外，不满法者半法减之，无可减者为前，所减之残为后，前则因余，后者减法，各为其率。乃以十加去交辰，三除之，以乘率，十四而一，为差。其朔所在气二分前后一气内，即为定差。近冬至，以去寒露、惊蛰，近夏至，以去清明、白露气数，倍而三除去交辰，增之。近冬至，艮巽以加，坤乾以减；近夏至，艮巽以减，坤乾以加其差为定差。乃艮以坤加，巽以乾减定余。月在外，直三除去交辰，以乘率，十四而一，亦为定差。艮坤以减，巽乾以加定余，皆为食余。如气求入辰法，即日食所在辰及大小。其求辰刻，以辰克乘辰余，朔辰而一，得刻及分。若食近朝夕者，以朔所入气日之出入刻，校食所在，知食见否之少多所在辰，为正见。

推月食所在辰术：

三日阻减望定余半。置望之所入气日，不见刻，朔日法乘之，百而一，所得若食余与之等、以下，又以此所得减朔日法，其残食余与之等、以上，为食正见数。其食余亦朔辰而一，如求加辰所在。又如前求刻校之，月在冲辰食，日月食既有起讫晚早，亦或变常进退，皆于正见前后十二刻半候之。

推日月食起讫辰术：

准其食分十五分为率，全以下各为衰。十四分以上，以一为衰，以尽于五分。每因前衰每降一分，积衰增二，以加于前，以至三分。每积增四。二分每增四，二分增六，一分增十九，皆累算为各衰。三百为率，各衰减之，各以其残乘朔日法，皆率而一，所得为食衰数。其率全，即以朔日法为衰数，以衰数加减食余，其减者为起，加者为讫，数亦如气。

求入辰法及求刻：以加减食所刻等，得起讫晚早之辰，与校正见多少之数。史书亏复起讫不同，今以其全一辰为率。

推日月食所起术：

月在内者，其正南，则起右上，亏左上。若正东，月自日上邪北而下。其在东南维前，东向望之，初不正，横月高日下；乃月稍西北，日渐东南，过于维后，南向望之，月更北，日差西南；以至于午之后，亦南望之，月欹西北，日复东南。西南维后，西向而望，月为东北，日则西南。正西，自日北下邪亏，而亦后不正，横月高日下。若食十二分以上，起右亏左。其正东，起上近亏下而北，午前则渐自上邪下。维西，起西北，亏东南。维北，起西南，亏东北；午后则稍从下傍下。维东，起西南，亏东北。维南，起西北，亏东南。在东则以上为东，在西则以下为西。

月在外者，其正南，起右下，亏左上。在正东，月自日南邪下而映。维北，则月微东南，日返西。维西南，日稍移东北，以至于午，月南日北，过午之后，月稍东南，日更西北。维北，月有西南，日复东北。正西，月自日下邪南而上。皆准此体以定起亏，随其所处，每用不同。其月之所食，皆依日亏起，每随类反之，皆与日食限同表里，而与日返其逆顺，上下过其分。

五星：

岁为木

荧惑为火

镇为土

太白为金

辰为水

木数，千八百六十万五千四百六十八。

伏半平，八十三万六千八百四十八。

复日，三百九十八；余，四万一千一百五十六。

岁一，残日，三十三；余，二万九千七百四十九半。

见去日，十四度。

平见，在春分前，以四乘去立春日；小满前，又三乘去春分日，增春分所乘者；白露后，亦四乘去寒露日；小暑，加七日；小雪前，以八乘去寒露日；冬至后，以八乘去立春日，为减，小雪至冬至减七日。

见，初日行万一千八百一十八分，日益迟七十分，百一十日行十八度、分四万七百三十八而留。二十八日乃逆，日退六千四百三十六分，八十七日退十二度、分二百四。又留二十八日。初日行四千一百八十八分，日益疾七十分，百一十日亦行十八度、分四万七百三十八而伏。

火数，三千六百三十七万七千五百九十五。

伏半平，三百三十七万九千三百二十七半。

复日，七百七十九；余，四万一千九百一十九。

岁再，残日，四十九；余，万九千一百六。

见去日，十六度。

平见，在雨水前，以十九乘去大寒日：清明前，又十八乘去雨水日，增雨水所乘者；夏至后，以十六乘去处暑日；小满后，又十五日；寒露前，以十八乘去白露日；小雪前，又十七乘去寒露日，增寒露所乘者；大雪后，二十九乘去大寒日，为减，小雪至大雪减二十五日。

见，初在冬至，则二百三十六日行百五十八度，以后日度随其日数增损各一；尽三十日，一日半损一；又八十六日，二日损一；复三十八日，同；又十五日，三日损一；复十二日，同；又三十九日，三日增一；又二十四日，二日增一；又五十八日，一日增一；复三十三日，同；又三十日，二日损一，还终至冬至，二百三十六日行百五十八度。其立春尽春分，夏至尽立夏，八日减一日；春分至立夏，减六日；立秋至秋分，减五度，各其初行日及度数。白露至寒露，初日行半度，四十日行二十度。以其残日及度，计充前数，皆差行，日益迟二十分，各尽其日度乃迟，初日行分二万二千六百六十九，日益迟一百一十分，六十一日行二十五度、分万五千四百九。初减度五者，于此初日加分三千八百二十三、篾十七；以迟日为母，尽其迟日行三十度，分同，而留十三日。

前减日分于二留，乃逆，日退分万二千五百二十六，六十三日退十六度、分四万二千八百三十四。又留十三日而行，初日万六千六十九，日益疾百一十分，六十一日行二十五度、分万五千四百九。立秋尽秋分，增行度五，加初日分同前，更疾。在冬至则二百一十三日行百三十五度；尽三十六日，一日损一；又二十日，二日损一；复二十四日，同；又五十四日，三日日增一；又十二日，二日增一；又四十二日，一日增一；又十四日，一日增一半；又十二日，增一；复四十五日，同；又一百六日，二日损一，亦终冬至二百一十三日，行百三十五度。

前增行度五者，于此亦减五度，为疾日及数。其立夏尽夏至初，日行半度，六十日行三十度。夏至尽立秋，亦初日行半度，四十日行二十度。其残亦计充如前，皆差行，日益疾二十分，各尽其日度而伏。

土数，千七百六十三万五千五百九十四。

伏半平，八十六万四千九百九十五。

复日，三百七十八；余，四千一百六十二。

岁一，残日，十二；余，三万九千三百九十九半。

见去日，十六度半。

平见，在大暑前，以七乘去小满日；寒露后，九乘去小雪日，为加，大暑至寒露加八日。小寒前，以九乘去小雪日；雨水后，以四乘去小满日；立春后，又三乘去雨水日，增雨水所乘者，为减，小寒至立春减八日。

见，日行分四千三百六十四，八十日行七度、分二万二千六百一十二而留三十九日乃逆，日退分二千八百二十，百三日退六度、分万五百九十六。又留三十九日，亦行分日四千三百六十四，八十日行七度、分二万二千六百一十二而伏。

金数，二千七百二十三万六千二百八。

晨伏半平，百九十五万七千一百四。

复日，五百八十三；余，四万二千七百五十六。

岁一，残日，二百一十八；余，三万一千三百四十九半。

夕见伏，二百五十六日。

晨见伏，三百二十七日；余与复同。

见去日，十一度。

夕平见，在立秋前，以六乘去芒种日；秋分后，以五乘去小雪日；小雪后，又四乘去大雪日，增小雪所乘者，为加，立秋至秋分加七日。立春前，以五乘去大雪日；雨水前，又四乘去立春日，增立春所乘者；清明后，以六乘去芒种日，为减，雨水至清明减七日。

晨平见，在小寒前，以六乘去冬至日；立春前，又五乘去小寒日，增小寒所乘者；芒种前，以六乘去夏至日；立夏前，又五乘去芒种日，增芒种所乘者，为加，立春至立夏加五日。小暑前，以六乘去夏至日；立秋前，又五乘去小暑日；增小暑所乘者；大雪后，以六乘去冬至日；立冬后，又五乘去大雪日，增大雪所乘者，为减，立秋至立冬减五日。

夕见，百七十一日行二百六度。其谷雨至小满、白露至寒露，皆十日加一度；小满至白露，加三度。乃十二日行十二度。冬至后，十二日减日度各一，雨水尽夏至，日度七；夏至后六日增一。大暑至立秋，还日度十二；至寒露，日度二十二，后六日减一。自大雪尽冬至，又日度十二而迟。日益疾五百二十分，初日行分二万三千七百九十一、篾三十五，行日为母，四十三日行三十二度。

前加度者，此依减之。留九日乃逆，日退太半度，九日退六度，而夕伏晨见。日退太半度，九日退六度。复留，九日而行，日益迟五百二十分，初日行分四万五千六百三十一、篾三十五，四十三日行三十二度。芒种至小暑，大雪至立冬，十五日减一度；小暑至立冬，减二度。又十二日行十二度。冬至后，十五日增日度各一。惊蛰至春分，日度十七，后十五日减一，尽夏至，还日度十二。后六日减一，至白露，日度皆尽。霜降后，五日增一，尽冬至，又日度十二。乃疾，百七十一日行二百六度。前减者，此亦加之，而晨伏。

水数，五百四十万五千六。

晨伏半平，七十九万九十九。

复日，百一十五；余，四万九百四十六。

夕见伏，五十一日。

晨见伏，六十四日；余与复同。

见去日，十七度。

夕应见，在立秋后小雪前者不见；其白露前立夏后，时有见者。

晨应见，在立春后小满前者不见；其惊蛰前立冬后，时有见者。

夕见，日行一度太，十二日行二十度。小暑至白露，行度半，十二日行十八度，乃八日行八度。大暑后，二日去度一，讫十六日，而日度俱尽。而迟，日行半度，四日行二度。益迟，日行少半度，三日行一度。前行度半者，去此益迟。乃留四日而夕伏晨见，留四日，为日行少半度，三日行一度。大寒至惊蛰，无此行，更疾，日行半度；四日行二度；又八日行八度。亦大寒后，二日去度一；讫十六日，亦日度俱尽。益疾，日行一度太，十二日行二十度。初无迟者，此行度半，十二日行十八度而晨伏。

推星平见术：

各以伏半减积半实，乃以其数去之；残返减数，满气日法为日，不满为余，即所求年天正冬至后平见日余。金、水满晨见伏日者，去之，晨平见。求平见月日：以冬至去定朔日、余，加其后日及余，满复日又去，起天正月，依定大小朔除之，不尽算外日，即星见所在。求后平见，因前见去其岁一、再，皆以残日加之，亦可。其复日，金水准以晨夕见伏日，加晨得夕，加夕得晨。

求常见日：以转法除所得加减者，为日；其不满，以余通乘之，为余；并日，皆加减平见日、余，即为常见日及余。

求定见日：以其先后已通者，先减后加常见日，即得定见日余。

求星见所在度：

置星定见、其日夜半所在宿度及分，以其日先后余，分前加、分后减气日法，而乘定见余，气日法而一所得加夜半度分，乃以星初见去日度数，晨减夕加之，即星初见所在宿度及分。

求次日：

各加一日所行度及分。其有益疾、迟者副置一日行分，各以其分疾增、迟损，乃加之。有篾者，满法从分，其母有不等，齐而进退之。留即因前，逆则依减入虚去分，逆出先加。皆以篾法除，为转分；其不尽者，仍谓之篾，各得每日所在知去日度。增以日所入先后分，定之。诸行星度求水其外内，准月行增损黄道而步之；不明者，依黄道而求所去日度。先后分亦分明前加后减。其金、火诸日度，计数增损定之者。其日少度多，以日减度之残者，与日多度少之度，皆度法乘之，日数而一，所得为分。不满篾，以日数为母。日少者以分并减之一度，日多者直为度分，即皆一日平行分。其差行者，皆减所行日数一，乃半其益疾、益迟分而乘之，益疾以减、益迟以加一日平行分，皆初日所行分。有计日加减，而日数不满未得成度者，以气日法若度法乘，见已所行日即日数除之，所得以增损其气日疾法，为日及度。其不成者，亦即为篾。其木、火、土，晨有见而夕有伏；金、水即夕见还夕伏，晨见即晨伏。然火之初行及后疾，距冬至日计日增损日度者，皆当先置从冬至日余数，累加于位上，以知其去冬至远近，乃以初见与后疾初日去冬至日数而增损定之，而后依其所直日度数行之也。

关键词：隋书,志

上一篇：志·卷十二

下一篇：志·卷十四

全   文：隋书

